<!--
Copyright 2023 Logan Magee

SPDX-License-Identifier: AGPL-3.0-only
-->

<app-new-update-editor (formSubmit)="submitNewUpdate($event)">
    <mat-progress-bar [value]="uploadProgress"/>
</app-new-update-editor>

<mat-divider/>

<h2 class="section-header">Updates</h2>
<mat-chip-listbox multiple>
    <mat-chip-option
        [selected]="showRejected"
        (selectionChange)="showRejected = $event.selected"
        color="accent">
        Rejected
    </mat-chip-option>
    <mat-chip-option
        [selected]="showPublished"
        (selectionChange)="showPublished = $event.selected"
        color="accent">
        Published
    </mat-chip-option>
</mat-chip-listbox>
<div class="grid-container">
    <app-update-card
        *ngFor="let update of updates | updateFilter : showRejected : showPublished"
        [update]="update"
        (delete)="deleteUpdate($event)"
        (submitForReview)="submitUpdate($event)"/>
    <p *ngIf="updates.length === 0">No updates</p>
</div>
